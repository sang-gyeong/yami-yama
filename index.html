<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>μ•Όλ―Έμ•Όλ§πβ¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+KR:wght@400;500;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="top-header">
        <div>
          <h1>μ•Όλ―Έμ•Όλ§πβ¨</h1>
          <p>μ¤λλ„ ν• λ¬Έμ μ”© κΌ­κΌ­ μ”Ήμ–΄λ¨Ήμπ‹</p>
        </div>
        <button id="open-guide-btn" class="secondary" type="button">
          μ΄μ© κ°€μ΄λ“
        </button>
      </header>

      <main>
        <section id="setup-screen" class="card screen active">
          <h2>λ¬Έμ  μ„ΈνΈ μ¤€λΉ„</h2>
          <p class="help-text">
            μ•„λ μ…λ ¥μ°½μ— λ¬Έμ  JSONμ„ λ¶™μ—¬λ„£μ–΄ μ£Όμ„Έμ”. κ°κ΄€μ‹(<code>type: "multiple"</code>),
            λ‹¨λ‹µν•(<code>type: "short"</code>), μ„μ ν•(<code>type: "essay"</code>)μ„ μ§€μ›ν•©λ‹λ‹¤.
          </p>
          <textarea
            id="json-input"
            placeholder='μμ‹: [{"type":"multiple","question":"...","choices":["A","B"],"answer":"A","explanation":"..."}]'
          ></textarea>

          <details class="format-guide">
            <summary>JSON ν•μ‹ κ°€μ΄λ“ λ³΄κΈ°</summary>
            <div class="prompt-guide-actions">
              <button id="copy-json-btn" class="secondary" type="button">
                μμ‹ JSON λ³µμ‚¬
              </button>
              <span id="json-copy-feedback" class="copy-feedback" aria-live="polite"></span>
            </div>
            <pre id="json-example"></pre>
          </details>

          <details class="format-guide">
            <summary>μλ€ μμƒλ¬Έμ  μƒμ„± ν”„λ΅¬ν”„νΈ λ³΄κΈ°</summary>
            <div class="prompt-guide-actions">
              <button id="copy-prompt-btn" class="secondary" type="button">
                ν”„λ΅¬ν”„νΈ λ³µμ‚¬
              </button>
              <span id="copy-feedback" class="copy-feedback" aria-live="polite"></span>
            </div>
            <pre id="prompt-template"></pre>
          </details>

          <section class="saved-sets">
            <div class="saved-sets-header">
              <h3>μ €μ¥λ λ¬Έμ  μ„ΈνΈ</h3>
              <button id="refresh-saved-btn" class="ghost" type="button">μƒλ΅κ³ μΉ¨</button>
            </div>
            <p class="help-text compact">μƒμ„±ν–λ μ„ΈνΈλ¥Ό μ €μ¥ν•΄λ‘κ³ , ν΄λ¦­ν•΄μ„ λ°”λ΅ λ‹¤μ‹ λ¶λ¬μ™€ ν’€ μ μμ–΄μ”.</p>

            <details class="remote-sync-guide">
              <summary>λ¬΄λ£ μ„λ²„ μ €μ¥(Firebase Realtime Database) μ—°κ²°</summary>
              <p class="help-text compact">
                Firebase λ¬΄λ£ μ”κΈμ (Spark)μ—μ„ λ§λ“  Realtime Database URLμ„ λ„£μΌλ©΄ λ¬Έμ  μ„ΈνΈλ¥Ό μ„λ²„μ— μ €μ¥/λ¶λ¬μ¬ μ μμ–΄μ”.
              </p>
              <label class="inline-field" for="firebase-db-url">Database URL</label>
              <input
                id="firebase-db-url"
                class="text-input"
                type="url"
                placeholder="μ: https://my-quiz-default-rtdb.firebaseio.com"
              />
              <div class="saved-actions top-gap">
                <button id="save-remote-config-btn" class="secondary" type="button">μ£Όμ† μ €μ¥</button>
                <button id="push-remote-btn" class="ghost" type="button">μ„λ²„μ— μ—…λ΅λ“</button>
                <button id="pull-remote-btn" class="ghost" type="button">μ„λ²„μ—μ„ λ¶λ¬μ¤κΈ°</button>
              </div>
              <p id="remote-sync-feedback" class="copy-feedback" aria-live="polite"></p>
            </details>

            <div id="saved-set-list" class="saved-set-list"></div>
          </section>

          <div class="options">
            <h3>μ •λ‹µ/ν•΄μ„¤ ν™•μΈ μ‹μ </h3>
            <label>
              <input
                type="radio"
                name="review-mode"
                value="immediate"
                checked
              />
              λ¬Έμ λ¥Ό ν’€ λ•λ§λ‹¤ λ°”λ΅ ν™•μΈ
            </label>
            <label>
              <input type="radio" name="review-mode" value="end" />
              ν• μ„ΈνΈ μ „λ¶€ ν‘Ό λ’¤ λ°μ•„μ„ ν™•μΈ
            </label>
          </div>

          <div class="actions">
            <button id="start-btn" class="primary">λ¬Έμ  μ‹μ‘</button>
          </div>
          <p id="setup-error" class="error"></p>
        </section>

        <section id="exam-screen" class="card screen" aria-live="polite">
          <div class="exam-header">
            <div>
              <h2>μ‹ν— μ§„ν–‰</h2>
              <p id="progress-text"></p>
            </div>
            <div id="mode-badge" class="badge"></div>
          </div>

          <article class="question-box">
            <h3 id="question-title"></h3>
            <p id="question-text"></p>
            <form id="answer-form">
              <div id="answer-area"></div>
            </form>
          </article>

          <div id="feedback-box" class="feedback hidden"></div>

          <div class="actions exam-actions" id="exam-actions">
            <button id="submit-btn" class="primary">μ μ¶</button>
            <button id="next-btn" class="primary hidden">λ‹¤μ λ¬Έμ  β†’</button>
            <button id="finish-btn" class="primary hidden">κ²°κ³Ό λ³΄κΈ°</button>
          </div>
        </section>

        <section id="result-screen" class="card screen" aria-live="polite">
          <h2>μ‹ν— κ²°κ³Ό</h2>
          <div id="result-summary" class="summary"></div>
          <div id="motivation" class="motivation"></div>
          <div id="result-list" class="result-list"></div>

          <div class="actions wrap">
            <button id="retry-wrong-btn" class="primary">
              ν‹€λ¦° λ¬Έμ λ§ λ‹¤μ‹ ν’€κΈ°
            </button>
            <button id="retry-all-btn" class="secondary">
              μ „μ²΄ λ¬Έμ  μ¬ν…μ¤νΈ
            </button>
            <button id="go-home-btn" class="ghost">μ²μμΌλ΅</button>
          </div>
        </section>
      </main>
    </div>

    <dialog id="guide-modal" class="guide-modal">
      <article class="guide-content">
        <div class="guide-header">
          <h2>μ•Όλ―Έμ•Όλ§ μ΄μ© κ°€μ΄λ“</h2>
          <button id="close-guide-btn" class="ghost" type="button">λ‹«κΈ°</button>
        </div>
        <ol>
          <li><strong>λ¬Έμ  μ¤€λΉ„:</strong> λ¬Έμ  λ©λ΅(JSON ν•μ‹)μ„ μ…λ ¥μ°½μ— λ¶™μ—¬λ„£μµλ‹λ‹¤.</li>
          <li><strong>ν•μ‹ ν™•μΈ:</strong> JSON ν•μ‹ κ°€μ΄λ“μ—μ„ μμ‹λ¥Ό λ³΄κ³ , λ³µμ‚¬ν•΄μ„ λ°”λ΅ μμ •ν•΄ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.</li>
          <li><strong>λ¨λ“ μ„ νƒ:</strong> λ¬Έμ λ³„ μ¦‰μ‹ μ±„μ  λλ” λ§μ§€λ§‰μ— ν• λ²μ— μ±„μ μ„ μ„ νƒν•©λ‹λ‹¤.</li>
          <li><strong>λ¬Έμ  ν’€μ΄:</strong> λ‹µμ„ μ…λ ¥ν•κ³  μ μ¶ν•λ©΄ μ •λ‹µ/ν•΄μ„¤μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.</li>
          <li><strong>λ°λ³µ ν•™μµ:</strong> κ²°κ³Ό ν™”λ©΄μ—μ„ ν‹€λ¦° λ¬Έμ λ§ λ‹¤μ‹ ν’€μ–΄ λ³µμµν•  μ μμµλ‹λ‹¤.</li>
          <li><strong>μ €μ¥ μ„ΈνΈ ν™μ©:</strong> μƒμ„±ν• λ¬Έμ  μ„ΈνΈλ” ν™ ν™”λ©΄μ— μ €μ¥λλ©°, μ λ© λ³€κ²½/μ‚­μ  ν›„ λ‹¤μ‹ λ¶λ¬μ¬ μ μμµλ‹λ‹¤.</li>
          <li><strong>λ¬΄λ£ μ„λ²„ λ™κΈ°ν™”:</strong> Firebase Realtime Database URLμ„ μ—°κ²°ν•λ©΄ μ„ΈνΈλ¥Ό μ„λ²„μ—λ„ μ €μ¥/λ³µμ›ν•  μ μμµλ‹λ‹¤.</li>
        </ol>
      </article>
    </dialog>

    <script src="app.js"></script>
  </body>
</html>
